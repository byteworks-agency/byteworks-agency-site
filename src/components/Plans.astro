---
interface Plan {
  id: string;
  title: string;
  price: string;
  period: string;
  bullets: string[];
  icon?: string;
  highlight?: boolean;
  ctaHref: string;
  ctaText: string;
}

interface Props {
  lang?: 'en' | 'es';
  items: Plan[];
  anchorId?: string;
}

const { items = [], lang = 'en', anchorId = 'plans' } = Astro.props;
---

<section id={anchorId} class="section">
  <div class="container">
    <header class="text-center max-w-2xl mx-auto mb-10 sm:mb-12">
      <h2 class="font-display text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight">
        {lang === 'es' ? 'Planes simples, claros y efectivos' : 'Simple, clear, effective plans'}
      </h2>
      <p class="mt-3 text-sm sm:text-base text-neutral-600 dark:text-neutral-300">
        {lang === 'es'
          ? 'Precios transparentes, mantenimiento incluido y soporte real.'
          : 'Transparent pricing, maintenance included, and real support.'}
      </p>
    </header>

    <div class="grid gap-5 sm:gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
      {items.map((p) => (
        <article
          class={`rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-5 sm:p-6 flex flex-col ${p.highlight ? 'ring-2 ring-brand' : ''}`}
        >
          <div class="flex items-center gap-3">
            {p.icon && <img src={p.icon} alt="" class="w-6 h-6 dark:invert" />}
            <h3 class="font-display text-lg sm:text-xl font-semibold">{p.title}</h3>
          </div>

          <div class="mt-3 sm:mt-4">
            <div class="text-2xl sm:text-3xl font-extrabold tracking-tight">{p.price}</div>
            <div class="text-xs sm:text-sm text-neutral-600 dark:text-neutral-400">{p.period}</div>
          </div>

          <ul class="mt-4 sm:mt-5 space-y-2 text-sm text-neutral-700 dark:text-neutral-300">
            {p.bullets.map((b) => (
              <li class="pl-5 relative">
                <span class="absolute left-0 top-1.5 size-2 rounded-full bg-brand"></span>
                {b}
              </li>
            ))}
          </ul>

          <a
            href={p.ctaHref}
            class="mt-5 sm:mt-6 inline-flex justify-center items-center gap-2 px-4 py-2 rounded-md bg-brand text-black font-medium"
          >
            {p.ctaText}
          </a>
        </article>
      ))}
    </div>
  </div>
</section>