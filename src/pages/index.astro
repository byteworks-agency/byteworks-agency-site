---
/* Redirección robusta al primer render del cliente.
   - Respeta elección guardada en localStorage (bw_lang).
   - Si no hay elección, usa navigator.language.
   - Fallback visible sin JS: enlaces a /en/ y /es/.
*/
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>ByteWorks</title>
    <meta name="viewport" content="width=device-width" />
    <script>
      (function () {
        try {
          var stored = localStorage.getItem('bw_lang');
          var nav = navigator.language || 'en';
          var guess = (stored || (nav && nav.toLowerCase().startsWith('es') ? 'es' : 'en'));
          if (!/^\/(en|es)\//.test(location.pathname)) {
            location.replace('/' + guess + '/');
          }
        } catch (e) {
          location.replace('/en/');
        }
      })();
    </script>
  </head>
  <body style="font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; padding: 2rem;">
    <noscript>
      <h1>Choose your language / Elige tu idioma</h1>
      <p><a href="/en/">English</a> · <a href="/es/">Español</a></p>
    </noscript>
  </body>
</html>